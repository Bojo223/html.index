<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <title>Животни с JS логика и GIF</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #fafafa;
      text-align: center;
    }
    input, button {
      font-size: 1rem;
      padding: 8px;
      margin: 5px;
      width: 300px;
      max-width: 100%;
    }
    #result {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
    }
    .animal-gif {
      width: 150px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.2);
    }
    .animal-name {
      margin-top: 5px;
      font-weight: bold;
      font-size: 1rem;
    }
    .animal-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 160px;
      background: white;
      padding: 10px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>

  <h1>Животни с JavaScript логика и GIF визуализация</h1>
  <input type="text" id="queryInput" placeholder="Въведи заявка: is_mammal, is_big, is_predator" />
  <button onclick="runQuery()">Търси</button>

  <div id="result"></div>

  <script>
    // Данни за животните
    const animals = ['elephant', 'lion', 'crocodile', 'dog', 'cat', 'whale'];

    // Правила, подобни на Prolog правила
    function is_mammal(animal) {
      return ['elephant', 'lion', 'dog', 'cat', 'whale'].includes(animal);
    }

    function is_big(animal) {
      return ['elephant', 'lion', 'crocodile', 'whale'].includes(animal);
    }

    function is_predator(animal) {
      return ['lion', 'crocodile', 'dog', 'cat'].includes(animal);
    }

    // GIF за животните
    const animalAnimations = {
      elephant: 'https://media.giphy.com/media/26u4b45b8KlgAB7iM/giphy.gif',
      lion: 'https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif',
      crocodile: 'https://media.giphy.com/media/3o7aD4jH0tMHoed19W/giphy.gif',
      dog: 'https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif',
      cat: 'https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif',
      whale: 'https://media.giphy.com/media/3o6ZsVv8gq5Rpq4GTC/giphy.gif',
    };

    // Изпълнява заявката
    function runQuery() {
      const query = document.getElementById('queryInput').value.trim();
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = 'Търсене...';

      if (!query) {
        resultDiv.innerHTML = 'Моля, въведи заявка.';
        return;
      }

      // Функция за филтриране според заявката
      let filterFunc;

      if (query === 'is_mammal' || query === 'is_mammal(X)') {
        filterFunc = is_mammal;
      } else if (query === 'is_big' || query === 'is_big(X)') {
        filterFunc = is_big;
      } else if (query === 'is_predator' || query === 'is_predator(X)') {
        filterFunc = is_predator;
      } else {
        resultDiv.innerHTML = 'Невалидна заявка. Използвай: is_mammal, is_big, is_predator.';
        return;
      }

      // Филтриране на животните
      const filteredAnimals = animals.filter(filterFunc);

      if (filteredAnimals.length === 0) {
        resultDiv.innerHTML = 'Няма животни, отговарящи на заявката.';
        return;
      }

      // Показваме резултатите с GIF
      resultDiv.innerHTML = '';

      filteredAnimals.forEach(animal => {
        const gif = animalAnimations[animal];
        if (gif) {
          const card = document.createElement('div');
          card.className = 'animal-card';
          card.innerHTML = `<img src="${gif}" alt="${animal}" class="animal-gif" /><div class="animal-name">${animal}</div>`;
          resultDiv.appendChild(card);
        } else {
          const p = document.createElement('p');
          p.textContent = animal;
          resultDiv.appendChild(p);
        }
      });
    }
  </script>

</body>
</html>
